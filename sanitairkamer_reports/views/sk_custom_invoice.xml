<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="sk_custom_report_invoice_document_inherit_sale"
                  inherit_id="sale.report_invoice_document_inherit_sale">
            <xpath expr="//div[@groups='sale.group_delivery_invoice_address']" position="replace"/>
        </template>

        <template id="sk_custom_report_invoice_document" inherit_id="account.report_invoice_document">

            <xpath expr="//h2" position="replace"/>
            <xpath expr="//div[@name='invoice_address']" position="replace"/>

            <xpath expr="//div[@class='row mt32 mb32']" position="replace">
                <div class="row" style="position:relative; min-height:150px; max-height:300px;">
                    <div class="col-xs-5" style="bottom:0;position:absolute;">
                        <h2>
                            <span t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Invoice
                            </span>
                            <span t-if="o.type == 'out_invoice' and o.state == 'proforma2'">PRO-FORMA</span>
                            <span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
                            <span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
                            <span t-if="o.type == 'out_refund'">Refund</span>
                            <span t-if="o.type == 'in_refund'">Vendor Refund</span>
                            <span t-if="o.type == 'in_invoice'">Vendor Bill</span>
                            <span t-field="o.number"/>
                        </h2>
                        <t t-if="o.state == 'paid'">
                            <h3>
                                -- PAID --
                            </h3>
                        </t>

                        <t t-if="o.date_invoice">
                            Invoice Date:
                            <span t-field="o.date_invoice" t-field-options='{"widget" : "date"}'/>
                            <br/>
                        </t>
                        <t t-if="o.date_due and o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">
                            Due Date:
                            <span t-field="o.date_due" t-field-options='{"widget" : "date"}'/>
                            <br/>
                        </t>
                        <t t-if="o.origin">
                            Order Nr:
                            <span t-field="o.origin"/>
                            <br/>
                        </t>
                        <t t-if="o.magento_id">
                            Magento Order Nr:
                            <span t-field="o.magento_id"/>
                            <br/>
                        </t>
                        <t t-if="o.magento_order_ext">
                            Magento Order Nr:
                            <span t-field="o.magento_order_ext"/>
                            <br/>
                        </t>
                        <t name="Supplier reference" class="col-xs-2" t-if="o.reference and o.type == 'in_invoice'">
                            Supplier Reference:
                            <span t-field="o.reference"/>
                            <br/>
                        </t>
                        <t t-if="o.name and not o.magento_order_ext">
                            Reference:
                            <span t-field="o.name"/>
                            <br/>
                        </t>
                    </div>

                    <div class="col-xs-4 col-xs-offset-8">
                        <div name="invoice_address" class="col-xs-12"
                             groups="sale.group_delivery_invoice_address">

                            <strong t-if="o.partner_shipping_id != o.partner_id or o.partner_shipping_id == o.partner_id">
                                INVOICING ADDRESS
                            </strong>
                            <br/>
                            <t t-if="o.partner_id.name">
                                <span t-field="o.partner_id.name"/>
                                <br/>
                            </t>
                            <t t-if="o.partner_id.street">
                                <span t-field="o.partner_id.street"/>
                            </t>
                            <t t-if="o.partner_id.street2">
                                <span t-field="o.partner_id.street2"/>
                                <br/>
                            </t>
                            <t t-if="o.partner_id.zip">
                                <span t-field="o.partner_id.zip"/>,
                            </t>
                            <t t-if="o.partner_id.city">
                                <span t-field="o.partner_id.city"/>
                                <br/>
                            </t>
                            <t t-if="o.partner_id.phone">
                                <strong>T: </strong><span t-field="o.partner_id.phone"/>
                                <br/>
                            </t>
                            <t t-if="o.partner_id.mobile">
                                <strong>M: </strong><span t-field="o.partner_id.mobile"/>
                                <br/>
                            </t>
                            <t t-if="o.partner_id.vat">
                                <span t-field="o.partner_id.vat"/>
                                <br/>
                            </t>
                        </div>
                    </div>
                </div>
                <div class="row" style="min-height:20px;"/>
            </xpath>


            <xpath expr="//p[@t-if='o.payment_term_id']" position="replace">
                <t t-if="o.state != 'paid'">
                    <p t-if="o.payment_term_id">
                        <span t-field="o.payment_term_id.note"/>
                    </p>
                </t>
            </xpath>

            <xpath expr="//p[@t-if='o.fiscal_position_id.note']" position="after">
                <p style="padding-top:30px; font-size:11;" class="text-center">
                    <u>
                        <strong>We do not allow product returns because of color differences. Specially ordered products
                            cannot be returned.
                            <br/>
                            Damage claims have to be reported within 48 hours after receipt, otherwise they will not be
                            handled anymore!
                        </strong>
                    </u>
                </p>
            </xpath>
        </template>

    </data>
</odoo>